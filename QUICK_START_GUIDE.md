# ğŸš€ EduPlatform - HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng Nhanh

## Khá»Ÿi Äá»™ng

### 1. CÃ i Äáº·t & Cháº¡y

```bash
# CÃ i dependencies
npm install

# Cháº¡y development server
npm run dev

# Cháº¡y Drizzle migration
npm run db:push
```

**Server sáº½ cháº¡y táº¡i:** `http://localhost:3000`

---

## ğŸ“‹ Quy TrÃ¬nh Sá»­ Dá»¥ng

### A. GiÃ¡o ViÃªn

#### 1ï¸âƒ£ **Táº¡o & Quáº£n LÃ½ Buá»•i Há»c**

```
1. ÄÄƒng nháº­p
2. VÃ o Lá»›p Há»c
3. Chá»n "ğŸ—“ï¸ Quáº£n LÃ½ Buá»•i Há»c"
4. Tab "Táº¡o Buá»•i Há»c Má»›i"
5. Äiá»n thÃ´ng tin:
   - TiÃªu Ä‘á»: "BÃ i 1: Giá»›i Thiá»‡u"
   - Thá»i gian: [chá»n datetime]
   - PhÃ²ng: "101"
   - Thá»i lÆ°á»£ng: 60 phÃºt
6. Submit
```

#### 2ï¸âƒ£ **Äiá»ƒm Danh Há»c Sinh**

```
1. VÃ o Buá»•i Há»c
2. Báº£ng "Äiá»ƒm Danh"
3. Chá»n tráº¡ng thÃ¡i tá»«ng HS:
   - âœ… CÃ³ Máº·t
   - âŒ Váº¯ng Máº·t
   - â° Muá»™n
   - ğŸš¶ Vá» Sá»›m
4. Tá»± Ä‘á»™ng save
```

#### 3ï¸âƒ£ **Nháº­n XÃ©t Há»c Sinh**

```
1. VÃ o Buá»•i Há»c
2. Báº£ng "Nháº­n XÃ©t"
3. Vá»›i tá»«ng HS:
   - Viáº¿t nháº­n xÃ©t
   - Chá»n Ä‘iá»ƒm thÃ¡i Ä‘á»™ (1-10)
   - Chá»n má»©c Ä‘á»™ tham gia
4. Save
```

#### 4ï¸âƒ£ **Táº¡o BÃ¡o CÃ¡o Buá»•i Há»c**

```
1. VÃ o Buá»•i Há»c
2. Báº£ng "BÃ¡o CÃ¡o"
3. Form tá»± Ä‘á»™ng hiá»ƒn thá»‹:
   - Tá»•ng HS: [auto]
   - CÃ³ Máº·t: [auto]
   - Tá»· Lá»‡ Äiá»ƒm Danh: [auto]%
4. Äiá»n:
   - TÃ³m táº¯t ná»™i dung
   - Äiá»ƒm chÃ­nh
   - Ná»™i dung buá»•i tiáº¿p theo
5. Create Report
6. âœ¨ Auto-gá»­i qua Zalo (náº¿u setup)
```

#### 5ï¸âƒ£ **Táº¡o BÃ i Táº­p vá»›i Auto-Release**

```
1. VÃ o Lá»›p Há»c
2. Chá»n "ğŸ“ BÃ i Táº­p & BÃ i Kiá»ƒm Tra"
3. Tab "Táº¡o BÃ i Táº­p Má»›i"
4. Äiá»n:
   - TiÃªu Ä‘á»: "BÃ i Táº­p 1"
   - MÃ´ táº£: "Chi tiáº¿t bÃ i táº­p..."
   - Äiá»ƒm tá»‘i Ä‘a: 100
   - Háº¡n ná»™p: [chá»n datetime]
5. Scheduling tá»± Ä‘á»™ng:
   â˜‘ï¸ Auto-release: [ngÃ y/giá» phÃ¡t hÃ nh]
   â˜‘ï¸ Auto-close: [ngÃ y/giá» Ä‘Ã³ng bÃ i]
6. Submit
7. âœ¨ Há»‡ thá»‘ng tá»± Ä‘á»™ng phÃ¡t hÃ nh & Ä‘Ã³ng bÃ i vÃ o giá»
```

#### 6ï¸âƒ£ **Xem PhÃ¢n TÃ­ch Lá»›p**

```
1. VÃ o Lá»›p Há»c
2. Chá»n "ğŸ“Š PhÃ¢n TÃ­ch & Thá»‘ng KÃª"
3. Xem:
   ğŸ“Š KPI Cards:
   - Äiá»ƒm Trung BÃ¬nh: [avg]
   - Tá»· Lá»‡ Ná»™p BÃ i: [%]
   - Tá»· Lá»‡ Äiá»ƒm Danh: [%]
   - Ná»™p Trá»…: [%]

   âš ï¸ Há»c Sinh Cáº§n ChÃº Ã:
   - Danh sÃ¡ch HS cÃ³ váº¥n Ä‘á»
   - Chi tiáº¿t: Ä‘iá»ƒm, Ä‘iá»ƒm danh, ná»™p bÃ i
   - Risk factors

   ğŸ“ˆ Charts:
   - Xu hÆ°á»›ng ná»™p bÃ i (30 ngÃ y)
   - Trendline Ä‘iá»ƒm danh
```

#### 7ï¸âƒ£ **Gá»­i ThÃ´ng BÃ¡o**

```
1. VÃ o Lá»›p Há»c
2. Chá»n "ğŸ”” ThÃ´ng BÃ¡o"
3. Äiá»n:
   - TiÃªu Ä‘á»: "Nháº¯c nhá»Ÿ bÃ i kiá»ƒm tra"
   - Ná»™i dung: "..."
   - Loáº¡i: [Reminder/Assignment/Report/Attendance/General]
   - Gá»­i qua: [App/Zalo/Email]
4. â˜‘ï¸ Gá»­i qua nhÃ³m Zalo (náº¿u cáº§n)
5. Submit
6. âœ¨ ThÃ´ng bÃ¡o gá»­i ngay + Ä‘Æ°á»£c lÆ°u trong há»‡ thá»‘ng
```

---

### B. Há»c Sinh

#### 1ï¸âƒ£ **Xem Danh SÃ¡ch BÃ i Táº­p**

```
1. VÃ o Lá»›p Há»c
2. Chá»n "ğŸ“ BÃ i Táº­p & BÃ i Kiá»ƒm Tra"
3. Xem danh sÃ¡ch bÃ i táº­p:
   - ChÆ°a PhÃ¡t HÃ nh: khÃ´ng tháº¥y
   - Äang Thá»±c Hiá»‡n: xanh
   - Sáº¯p Háº¿t Háº¡n: vÃ ng
   - QuÃ¡ Háº¡n: Ä‘á»
4. Click "Chi Tiáº¿t" Ä‘á»ƒ ná»™p bÃ i
```

#### 2ï¸âƒ£ **Ná»™p BÃ i Táº­p**

```
1. VÃ o BÃ i Táº­p
2. Xem háº¡n ná»™p, yÃªu cáº§u
3. Ná»™p file/ná»™i dung
4. âœ… LÆ°u ná»™p
5. Chá» cháº¥m Ä‘iá»ƒm tá»« giÃ¡o viÃªn
```

#### 3ï¸âƒ£ **Xem Hiá»‡u Suáº¥t CÃ¡ NhÃ¢n**

```
1. VÃ o Lá»›p Há»c
2. Chá»n "ğŸ“Š PhÃ¢n TÃ­ch & Thá»‘ng KÃª"
3. Hoáº·c truy cáº­p: [Class]/my-performance
4. Xem KPI cá»§a báº¡n:
   - Äiá»ƒm Trung BÃ¬nh
   - Tá»· Lá»‡ Äiá»ƒm Danh
   - Tá»· Lá»‡ Ná»™p BÃ i
   - BÃ i Táº­p Ná»™p
5. Bar chart: Äiá»ƒm theo tá»«ng bÃ i táº­p
```

#### 4ï¸âƒ£ **Nháº­n ThÃ´ng BÃ¡o**

```
1. Click chuÃ´ng ğŸ”” á»Ÿ gÃ³c trÃªn cÃ¹ng
2. Xem cÃ¡c thÃ´ng bÃ¡o:
   - Nháº¯c lá»‹ch há»c
   - BÃ i táº­p Ä‘Æ°á»£c phÃ¡t hÃ nh
   - Káº¿t quáº£ cháº¥m Ä‘iá»ƒm
   - BÃ¡o cÃ¡o buá»•i há»c
3. Click Ä‘á»ƒ xem chi tiáº¿t
4. XÃ³a náº¿u khÃ´ng cáº§n
```

---

## ğŸ”§ Cáº¥u HÃ¬nh TÃ­nh NÄƒng NÃ¢ng Cao

### 1. Zalo Integration

**BÆ°á»›c 1:** Láº¥y thÃ´ng tin tá»« Zalo

```
1. VÃ o Zalo Official Account (OA) cá»§a báº¡n
2. Láº¥y:
   - ZALO_OA_ID: [ID cá»§a OA]
   - ZALO_ACCESS_TOKEN: [Token tá»« Zalo]
   - ZALO_WEBHOOK_SIGN_KEY: [Key Ä‘á»ƒ verify webhook]
```

**BÆ°á»›c 2:** Cáº­p nháº­t `.env.local`

```bash
ZALO_OA_ID=your_oa_id
ZALO_ACCESS_TOKEN=your_token
ZALO_WEBHOOK_SIGN_KEY=your_sign_key
```

**BÆ°á»›c 3:** Cáº¥u hÃ¬nh Webhook

```
1. Zalo OA Settings â†’ Webhook
2. URL: https://yourdomain.com/api/webhooks/zalo
3. Verify: Há»‡ thá»‘ng sáº½ validate signature
4. Save
```

**BÆ°á»›c 4:** Test

```
1. Táº¡o thÃ´ng bÃ¡o
2. Chá»n "Zalo"
3. Gá»­i
4. Kiá»ƒm tra Zalo nháº­n Ä‘Æ°á»£c message
```

### 2. LÃªn Lá»‹ch Tá»± Äá»™ng (Cron Jobs)

CÃ³ 3 cÃ¡ch setup:

#### **Option A: Vercel (Easiest)**

````
File: vercel.json
```json
{
  "crons": [
    {
      "path": "/api/cron/auto-release-assignments",
      "schedule": "0 8 * * MON"
    },
    {
      "path": "/api/cron/auto-close-assignments",
      "schedule": "59 23 * * FRI"
    },
    {
      "path": "/api/cron/assignment-reminders",
      "schedule": "*/30 * * * *"
    },
    {
      "path": "/api/cron/send-reminders",
      "schedule": "*/5 * * * *"
    }
  ]
}
````

```bash
npm run deploy  # Deploy to Vercel
```

#### **Option B: GitHub Actions**

````
File: .github/workflows/cron-jobs.yml
```yaml
name: Cron Jobs

on:
  schedule:
    - cron: '0 8 * * MON'     # Auto-release
    - cron: '59 23 * * FRI'   # Auto-close
    - cron: '*/30 * * * *'    # Reminders
    - cron: '*/5 * * * *'     # Send notifications

jobs:
  run-crons:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Run cron jobs
        run: |
          curl -X POST https://yourdomain.com/api/cron/auto-release-assignments \
            -H "Authorization: Bearer ${{ secrets.CRON_SECRET }}"
````

#### **Option C: External Cron Service**

```
1. VÃ o cron-job.org (miá»…n phÃ­)
2. Táº¡o 4 jobs:
   - URL: https://yourdomain.com/api/cron/auto-release-assignments
   - Schedule: 0 8 MON * * *
   - TÆ°Æ¡ng tá»± cho cÃ¡c job khÃ¡c
3. Add header: Authorization: Bearer [CRON_SECRET]
```

**Add CRON_SECRET** vÃ o `.env.local`:

```bash
CRON_SECRET=your_secret_key_here
```

### 3. Email Notifications (Optional)

```bash
# CÃ i Resend hoáº·c SendGrid
npm install resend

# Add to .env.local
RESEND_API_KEY=re_xxxxx
```

---

## ğŸ“Š Database Management

### Xem Data

```bash
# Connect to PostgreSQL
psql -d eduplatform_local

# View tables
\dt

# View enums
\dT

# Query example
SELECT id, name, email FROM users LIMIT 10;
```

### Reset Database

```bash
# Drop & recreate
npm run db:push -- --force-drop

# Seed data (náº¿u cÃ³)
npm run db:seed
```

---

## ğŸ› Troubleshooting

### Problem: "WebSocket is already in CLOSING or CLOSED state"

**Solution:** LiveKit connection issue

```
1. Kiá»ƒm tra LIVEKIT_URL trong .env.local
2. Äáº£m báº£o LiveKit server Ä‘ang cháº¡y
3. Reload page
```

### Problem: "Notification not sent via Zalo"

**Solution:** Check Zalo config

```
1. Verify ZALO_ACCESS_TOKEN há»£p lá»‡
2. Check ZALO_OA_ID chÃ­nh xÃ¡c
3. Xem logs API response
4. Thá»­ láº¡i
```

### Problem: "Cron jobs not running"

**Solution:** Check cron configuration

```
1. Verify CRON_SECRET matches
2. Check logs for errors
3. Manually trigger: curl https://yourdomain.com/api/cron/...
4. Verify scheduled time
```

---

## ğŸ¯ TÃ­nh NÄƒng ChÃ­nh - Checklist

### Phase 1: Class Management âœ…

- âœ… Táº¡o & quáº£n lÃ½ buá»•i há»c
- âœ… Äiá»ƒm danh tá»± Ä‘á»™ng
- âœ… Nháº­n xÃ©t & Ä‘Ã¡nh giÃ¡ HS
- âœ… BÃ¡o cÃ¡o buá»•i há»c

### Phase 2: Notifications âœ…

- âœ… Gá»­i thÃ´ng bÃ¡o trong App
- âœ… Gá»­i via Zalo (setup required)
- âœ… Quáº£n lÃ½ notification center
- âœ… Webhook receive from Zalo

### Phase 3: Assignment Automation âœ…

- âœ… Táº¡o bÃ i táº­p
- âœ… Auto-release vÃ o giá»
- âœ… Auto-close sau háº¡n
- âœ… Reminder trÆ°á»›c háº¡n

### Phase 4: Analytics âœ…

- âœ… Hiá»‡u suáº¥t lá»›p
- âœ… Hiá»‡u suáº¥t cÃ¡ nhÃ¢n
- âœ… At-risk students alert
- âœ… Charts & visualization

---

## ğŸ“ Support

- ğŸ“§ Email: support@eduplatform.vn
- ğŸ’¬ Zalo: [Link OA]
- ğŸ Issues: GitHub Issues

---

## ğŸ‰ Báº¡n ÄÃ£ Sáºµn SÃ ng!

Táº¥t cáº£ tÃ­nh nÄƒng Ä‘Ã£ Ä‘Æ°á»£c implement. HÃ£y:

1. **Test locally:** `npm run dev`
2. **Setup Zalo:** ThÃªm credentials
3. **Setup Cron:** Chá»n provider (Vercel/GitHub/External)
4. **Deploy:** Äáº¿n production
5. **Enjoy!** ğŸš€

---

**Last Updated:** Dec 18, 2025
**Status:** All 4 Phases Complete âœ…
